import paramiko.ssh_exception
import sys
import logging

hostname="leodagan.telecomste.net"
username="grudu"
password="113-TgBT-3784"
port=22113 

client = paramiko.SSHClient()
client.load_system_host_keys()
client.set_missing_host_key_policy(paramiko.AutoAddPolicy)
client.connect(hostname="leodagan.telecomste.net", username="grudu", password="113-TgBT-3784", port=22113)

args= ["free","top","ps","vmstat","ifconfig -a","cat /proc/meminfo", "cat /proc/cpuinfo","iotop"]

for i in range(0,len(args)):
    logging.basicConfig(level=logging.DEBUG,
                    filename=args[i]+".log",
                    filemode="a",
                    format='%(message)s')
    command =args[i]
    _, stdout, stderr = client.exec_command(command)
    output = stdout.read().decode("utf-8")
    for line in output.splitlines():
            logging.info(line)
